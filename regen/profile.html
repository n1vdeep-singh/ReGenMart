<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReGenMarket</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="profile.css">
</head>

<body>
    <div class="login_email hidden" id="email">
        <div class="email_login">
            <div class="icons_flex">
                <i class="fa-solid fa-arrow-left" onclick="backEmail()"></i>
                <i class="fa-solid fa-xmark close__btn" onclick="closeEmail()"></i>
            </div>
            <img src="./images/emal__login.svg" alt="">
            <h2>Enter Your Email</h2>
            <input type="text" id="emailLogin" placeholder="Email">
            <button class="next_button" onclick="login()">Login</button>
            <p>We won't reveal your email to anyone else nor use it to send you spam.</p>
        </div>
    </div>
    <div class="login_phone hidden" id="phone">
        <div class="phone_login">
            <div class="icons_flex">
                <i class="fa-solid fa-arrow-left" onclick="backPhone()"></i>
                <i class="fa-solid fa-xmark close__btn" onclick="closePhone()"></i>
            </div>
            <img src="./images/email__login.svg" alt="">
            <h2>Enter Your phone</h2>
            <input type="text" id="phoneLogin" placeholder="Phone Number">
            <button disabled class="next_button" onclick="loginPhone()"> Next</button>
            <p>We won't reveal your phone number to anyone else nor use it to send you spam.</p>
        </div>
    </div>
    <div class="signUp hidden" id="signUp">
        <div class="signUp_account">
            <div class="icons_flex">
                <i class="fa-solid fa-arrow-left" onclick="backSignUp()"></i>
                <i class="fa-solid fa-xmark close__btn" onclick="closeSignUp()"></i>
            </div>
            <img src="./images/email__login.svg" alt="">
            <h2>Create Your Account</h2>
            <input type="text" id="name" placeholder="Name">
            <input type="text" id="signEmail" placeholder="Email">
            <input type="text" id="signphone" placeholder="Phone Number">
            <input type="text" id="gender" placeholder="Gender">
            <button class="next_button" id="button" onclick="signUp()">Create an Account</button>
            <p>We won't reveal your phone number to anyone else nor use it to send you spam.</p>
        </div>
    </div>
    <div class="login hidden" id="login">
        <div class="login_form">
            <i class="fa-solid fa-xmark close__btn" onclick="closeLogin()"></i>
            <img src="./images/logo.jpeg" alt="" height="100px">
            <h1>WELCOME TO ReGenMarket</h1>
            <h2>The trusted community of buyers and sellers.</h2>
            <button href="" class="loginSign_button"><img src="./images/facebok.svg" alt=""> Continue with
                Facebook</button>
            <button href="" class="loginSign_button" onclick="createAccountPage()"><img src="./images/googleIcon.svg"
                    alt=""> Create Your Account</button>
            <button href="" class="loginSign_button" onclick="emailLogin()"><img src="./images/email.svg" alt="">
                Continue With Email</button>
            <button href="" class="loginSign_button" onclick="phoneLogin()"><img src="./images/phone.svg" alt="">
                Continue with Phone</button>
            <p>By continuing, you are accepting
                <b>ReGenMarket </b>Terms </b> of use and <b>Privacy Policy</b></p>
        </div>
    </div>
    <div class="back_to_top hidden" id="top">
        <h3> <i class="fa-solid fa-angle-up"></i>Back To Top</h3>
    </div>
    <div class="same__color">
        <div class="small__navbar">
            
        </div>
        <div class="second__navbar">
            <div class="second-navbar__logo">
                 <img src="./images/logo.jpeg" height="100px">
                 <svg viewBox="0 0 36.289 20.768" alt="Logo">
                    <path
                        d="">
                    </path>
                </svg>
            </div>
            <div class="select_option">
                <i class="fa-solid fa-search"></i>
                <input type="text" placeholder="Jamshed Town, Karachi">
            </div>
            <div class="search__bar">
                <input type="text" placeholder="Find Cars, Mobile Phones and more...">
                <i class="fa-solid fa-search"></i>
            </div>
            <div class="login__sell" id="login__sell">
                <button href="" class="login__btn" onclick="openLogin()">Login</button>
                <button onclick="sell()" class="sell__btn">+ Sell</button>
            </div>
        </div>
    </div>
    <div class="third__navbar">
        <div class="select__itself">
            <a href="">All category <i class="fa-solid fa-angle-down"></i></a>
        </div>
        <div class="links">
            <a href="#">Furnitures</a>
            <a href="#">electronics</a>
            <a href="#">music </a>
            <a href="#">study material</a>
        </div>
    </div>
    <div class="profile_container">
        <div class="container">



            <div class="input">
                <label for="name">Name</label>
                <input type="text" id="nameL">
            </div>
            <div class="input">
                <label for="emailL">Email</label>
                <input type="text" id="emailL">
            </div>
            <div class="input">
                <label for="phonel">Phone</label>
                <input type="text" id="phonel">
            </div>
            <div class="input">
                <label for="gender">Gender</label>
                <input type="text" id="genderL">
            </div>
            <div class="btns">
                <button class="btn">Edit Profile</button>
                <button class="btn" onclick="Loogut()">Logout</button>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer_the_olx_app_section">
            <img src="./images/logo.jpeg" alt="" height="200px">
            <div class="footer_olx_content">
                <h1>Try The ReGenMarket</h1>
                <h3>
                    Buy, sell and find just about anything using the app on your mobile.
                </h3>
            </div>
            <div class="line"></div>
            <div class="get__your_app_today">
                <h4>Get Your App Today</h4>
                <div class="apps">
                    <img src="./images/apple.svg" alt="">
                    <img src="./images/google.svg" alt="">
                    
                </div>
            </div>
        </div>

        <div class="footer__real">
            <div class="footer__content">
                <div class="lists">

                    <ul>
                        <h4>POPULAR category</h4>
                        <li>Cars</li>
                        <li>Flats for rent</li>
                        <li>Mobile Phones</li>
                        <li>Jobs</li>
                    </ul>
                    
                </div>
                <div class="follow_us">
                    <h4>FOLLOW US</h4>
                    <div class="icons">
                        <i class="fa-brands fa-facebook-f"></i>
                        <i class="fa-brands fa-instagram"></i>
                        <i class="fa-brands fa-twitter"></i>
                        <i class="fa-brands fa-instagram"></i>
                    </div>
                    <div class="apps">
                        <img src="./images/apple.svg" alt="">
                        <img src="./images/google.svg" alt="">
                        
                    </div>
                </div>
            </div>

            <div class="footer__bottom">
                <p> </p>
            </div>
        </div>
    </footer>
</body>
<script>
    function Loogut() {
        localStorage.removeItem("name");
        localStorage.removeItem("email")
        localStorage.removeItem("phone")
        localStorage.removeItem("gender")
        window.location.href ="./index.html";
    }
    document.getElementById("nameL").value = localStorage.getItem("name");
    document.getElementById("emailL").value = localStorage.getItem("email")
    document.getElementById("phonel").value = localStorage.getItem("phone")
    document.getElementById("genderL").value = localStorage.getItem("gender")

    function showData() {
        var data = JSON.parse(localStorage.getItem("users"))
        var email = localStorage.getItem("email")
        var isAuthenticated = localStorage.getItem("isAuthenticated")
        for (let i = 0; i < data.length; i++) {
            if (email == data[i].email && isAuthenticated === "true") {
                document.getElementById("login__sell").innerHTML = `
       <img class="avatar" onclick="profilePage()" width="60px"src="./images/avatar.png" />
                 <button onclick="sell()" class="sell__btn">+ Sell</button>
                `
            }
        }
    }

    function sell() {
        var data = JSON.parse(localStorage.getItem("users"))
        var email = localStorage.getItem("email")
        var isAuthenticated = localStorage.getItem("isAuthenticated")
        var flage = true;
        for (let i = 0; i < data.length; i++) {
            if (email == data[i].email && isAuthenticated === "true") {
                flage = false
                window.location.href = "./sell.html"
            }
        }
        if (flage === true) {
            document.getElementById("login").classList.remove("hidden")
        }
    }

    function profilePage() {
        window.location.href = "./profile.html"
    }
    showData()
    var data = JSON.parse(localStorage.getItem("products"))

    function openLogin() {
        document.getElementById("login").classList.remove("hidden");
    }

    function closeLogin() {
        document.getElementById("login").classList.add("hidden")
    }

    function emailLogin() {
        document.getElementById("email").classList.remove("hidden");
        document.getElementById("login").classList.add("hidden")
    }

    function closeEmail() {
        document.getElementById("email").classList.add("hidden")
    }

    function backEmail() {
        document.getElementById("email").classList.add("hidden")
        document.getElementById("login").classList.remove("hidden");
    }

    function phoneLogin() {
        document.getElementById("phone").classList.remove("hidden");
        document.getElementById("login").classList.add("hidden")
    }

    function closePhone() {
        document.getElementById("phone").classList.add("hidden")
    }

    function backPhone() {
        document.getElementById("phone").classList.add("hidden")
        document.getElementById("login").classList.remove("hidden");
    }

    function createAccountPage() {
        document.getElementById("signUp").classList.remove("hidden");
        document.getElementById("login").classList.add("hidden")
    }

    function closeSignUp() {
        document.getElementById("signUp").classList.add("hidden")
    }

    function backSignUp() {
        document.getElementById("signUp").classList.add("hidden")
        document.getElementById("login").classList.remove("hidden");
    }

    function signUp() {
        let data = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []
        let flage = false
        for (let i = 0; i < data.length; i++) {
            if (data[i].email === document.getElementById("signEmail").value) {
                flage = true
                alert("You have entered a duplicate email address")
            }
        }
        if (flage === false) {

            let users = []
            let obj = {
                name: document.getElementById("name").value,
                email: document.getElementById("signEmail").value,
                gender: document.getElementById("gender").value,
                phone: document.getElementById("signphone").value,
                isAuthenticated: true
            }
            users = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []

            users.push(obj)
            localStorage.setItem("users", JSON.stringify(users))
            document.getElementById("signUp").classList.add("hidden");
            document.getElementById("email").classList.remove("hidden");
        }
    }

    function login() {
        let email = document.getElementById("emailLogin").value;
        let users = JSON.parse(localStorage.getItem("users"))
        var flage = false;
        for (let i = 0; i < users.length; i++) {
            if (users[i].email === email) {
                flage = true;
                alert("You have successfully Login");
                localStorage.setItem("name", users[i].name);
                localStorage.setItem("email", email);
                localStorage.setItem("phone", users[i].phone);
                localStorage.setItem("isAuthenticated", users[i].isAuthenticated);
                window.location.reload()
                if (flage == false) {
                    alert("Please enter a valid email and password");
                }
            }
        }
    }

    function loginPhone() {
        let email = document.getElementById("phoneLogin").value;
        let users = JSON.parse(localStorage.getItem("users"))
        var flage = false;
        for (let i = 0; i < users.length; i++) {
            if (users[i].phone === phone) {
                flage = true;
                alert("You have successfully Login");
                localStorage.setItem("name", users[i].name);
                localStorage.setItem("email", email);
                localStorage.setItem("phone", user[i].phone);
                localStorage.setItem("isAuthenticated", user[i].isAuthenticated);
                document.getElementById("phone").classList.add("hidden")
                if (flage == false) {
                    alert("Please enter a valid email and password");
                }
            }
        }
    }
</script>

</html>